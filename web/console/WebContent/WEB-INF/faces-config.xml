<?xml version="1.0" encoding="UTF-8"?>

<faces-config version="1.2" xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd">

	<managed-bean>
		<managed-bean-name>loginBean</managed-bean-name>
		<managed-bean-class>org.govmix.proxy.fatturapa.web.console.mbean.LoginMBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>loginDao</property-name>
			<property-class>org.govmix.proxy.fatturapa.web.console.dao.ILoginDao</property-class>
			<value>#{loginDAO}</value>
		</managed-property>
	</managed-bean>

	<!-- Fatturaelettronica -->
	<managed-bean>
		<managed-bean-name>fatturaElettronicaDM</managed-bean-name>
		<managed-bean-class>org.govmix.proxy.fatturapa.web.console.datamodel.FatturaElettronicaDM</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>dataProvider</property-name>
			<property-class>org.govmix.proxy.fatturapa.web.console.iservice.IFatturaElettronicaService</property-class>
			<value>#{fatturaElettronicaService}</value>
		</managed-property>
	</managed-bean>
	
	<!-- Utente -->
	<managed-bean>
		<managed-bean-name>utenteDM</managed-bean-name>
		<managed-bean-class>org.govmix.proxy.fatturapa.web.console.anagrafica.datamodel.UtenteDM</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>dataProvider</property-name>
			<property-class>org.govmix.proxy.fatturapa.web.console.anagrafica.iservice.IUtenteService</property-class>
			<value>#{utenteService}</value>
		</managed-property>
	</managed-bean>
	
	<!-- Dipartimenti -->
	<managed-bean>
		<managed-bean-name>dipartimentoDM</managed-bean-name>
		<managed-bean-class>org.govmix.proxy.fatturapa.web.console.anagrafica.datamodel.DipartimentoDM</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>dataProvider</property-name>
			<property-class>org.govmix.proxy.fatturapa.web.console.anagrafica.iservice.IDipartimentoService</property-class>
			<value>#{dipartimentoService}</value>
		</managed-property>
	</managed-bean>
	
		<!-- Ente/Registri -->
	<managed-bean>
		<managed-bean-name>registroDM</managed-bean-name>
		<managed-bean-class>org.govmix.proxy.fatturapa.web.console.anagrafica.datamodel.RegistroDM</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>dataProvider</property-name>
			<property-class>org.govmix.proxy.fatturapa.web.console.anagrafica.iservice.IRegistroService</property-class>
			<value>#{registroService}</value>
		</managed-property>
	</managed-bean>

	<!-- Login -->
	<navigation-rule>
		<from-view-id>/public/login.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>loginSuccess</from-outcome>
			<to-view-id>/pages/fattura/list/listaFatture.xhtml</to-view-id>
			<redirect/>
		</navigation-case>
	</navigation-rule>

	<!-- Navigazione dalla pagina listaFatture -->
	<navigation-rule>
		<from-view-id>/pages/fattura/list/listaFatture.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>dettaglio</from-outcome>
			<to-view-id>/pages/fattura/form/dettaglioFattura.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>inviaNotificaEC</from-outcome>
			<to-view-id>/pages/fattura/form/invioNotificaEC.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina dettaglioFattura -->
	<navigation-rule>
		<from-view-id>/pages/fattura/form/dettaglioFattura.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>listaFatture</from-outcome>
			<to-view-id>/pages/fattura/list/listaFatture.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>inviaNotificaEC</from-outcome>
			<to-view-id>/pages/fattura/form/invioNotificaEC.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina InvioNotificaEC -->
	<navigation-rule>
		<from-view-id>/pages/fattura/form/invioNotificaEC.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>listaFatture</from-outcome>
			<to-view-id>/pages/fattura/list/listaFatture.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>dettaglioBack</from-outcome>
			<to-view-id>/pages/fattura/form/dettaglioFattura.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina listaDipartimenti -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/dipartimenti/list/listaDipartimenti.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>dipartimento</from-outcome>
			<to-view-id>/pages/anagrafica/dipartimenti/form/dipartimento.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina Dipartimento -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/dipartimenti/form/dipartimento.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>listaDipartimenti</from-outcome>
			<to-view-id>/pages/anagrafica/dipartimenti/list/listaDipartimenti.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina listaUtenti -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/utenti/list/listaUtenti.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>utente</from-outcome>
			<to-view-id>/pages/anagrafica/utenti/form/utente.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina Utente -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/utenti/form/utente.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>listaUtenti</from-outcome>
			<to-view-id>/pages/anagrafica/utenti/list/listaUtenti.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina listaEnti -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/enti/list/listaEnti.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>ente</from-outcome>
			<to-view-id>/pages/anagrafica/enti/form/ente.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina Ente -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/enti/form/ente.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>listaEnti</from-outcome>
			<to-view-id>/pages/anagrafica/enti/list/listaEnti.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>registro</from-outcome>
			<to-view-id>/pages/anagrafica/enti/form/registro.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	<!-- Navigazione dalla pagina Ente -->
	<navigation-rule>
		<from-view-id>/pages/anagrafica/enti/form/registro.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>ente</from-outcome>
			<to-view-id>/pages/anagrafica/enti/form/ente.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>

	<!-- Regole globali -->
	<navigation-rule>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>login</from-outcome>
			<to-view-id>/public/login.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>welcome</from-outcome>
			<to-view-id>/public/welcome.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>logoutAS</from-outcome>
			<to-view-id>/public/logoutAS.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>listaFatture</from-outcome>
			<to-view-id>/pages/fattura/list/listaFatture.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>listaDipartimenti</from-outcome>
			<to-view-id>/pages/anagrafica/dipartimenti/list/listaDipartimenti.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>listaUtenti</from-outcome>
			<to-view-id>/pages/anagrafica/utenti/list/listaUtenti.xhtml</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>ente</from-outcome>
			<to-view-id>/pages/anagrafica/enti/form/ente.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	 <converter>
<!--   	<converter-for-class>org.openspcoop2.generic_project.web.search.field.SelectItem</converter-for-class> -->
  	<converter-class>org.openspcoop2.generic_project.web.impl.jsf1.converter.SuggestionSelectItemConverter</converter-class>
  	<converter-id>suggestionSelectItemConverter</converter-id>
 </converter>
 <converter>
<!--   	<converter-for-class>org.openspcoop2.generic_project.web.search.field.SelectItem</converter-for-class> -->
  	<converter-class>org.openspcoop2.generic_project.web.impl.jsf1.converter.SelectListItemConverter</converter-class>
  	<converter-id>selectItemConverter</converter-id>
 </converter>
 <converter>
<!--   	<converter-for-class>org.openspcoop2.generic_project.web.search.field.SelectItem</converter-for-class> -->
  	<converter-class>org.openspcoop2.generic_project.web.impl.jsf1.converter.MultipleChoiceItemConverter</converter-class>
  	<converter-id>multipleChoiceItemConverter</converter-id>
 </converter>
	
	<application>
		<view-handler>com.sun.facelets.FaceletViewHandler</view-handler>
		<locale-config>
			<default-locale>it</default-locale>
			<supported-locale>it</supported-locale>
		        <supported-locale>de</supported-locale>         
		</locale-config>
		<message-bundle>messages_it</message-bundle>
		<resource-bundle>
			<base-name>messages</base-name>
			<var>msg</var>
		</resource-bundle>
		<el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>
	</application>
	<lifecycle>
		<phase-listener id="loginPhaseListener">org.openspcoop2.generic_project.web.impl.jsf1.listener.LoginPhaseListener</phase-listener>
<!-- 		<phase-listener id="noCacheListener">org.openspcoop2.generic_project.web.impl.jsf1.listener.CacheControlPhaseListener</phase-listener> -->
		<!-- phase-listener id="loginPhaseListener">org.govmix.proxy.fatturapa.web.console.listener.LoginPhaseListener</phase-listener -->
		<phase-listener id="localePhaseListener">org.openspcoop2.generic_project.web.impl.jsf1.listener.LocaleListener</phase-listener>
	</lifecycle>
</faces-config>
